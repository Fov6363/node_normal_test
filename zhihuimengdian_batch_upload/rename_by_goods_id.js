/**
 * Created by yuanyuan on 17/5/31.
 */
const fs = require('fs');

const dir_path = '/Users/yuanyuan/Downloads/极牛资料/数据分析/智慧门店/视频数据/虹桥高铁店素材（改）/产品图、场景图、视频';

const obj = {
    "A1-1-1"					: 1272560760229921,
    "A1-2-1"					: 1272561649422502,
    "A1-3-1"					: 1272563729797582,
    "A1-3-2"					: 1272564350554727,
    "A1-4-1"					: 1272565004866189,
    "A1-5-1"					: 1272567739552803,
    "A1-6-1"					: 1272570004477299,
    "A1-7-1"					: 1272570893669898,
    "A1-7-2"					: 1272572588168981,
    "A1-8-1"					: 1272573276034876,
    "A1-8-2"					: 1272574148450254,
    "A2-1-1"					: 1277717271103021,
    "A2-1-2"					: 1277748359287688,
    "A2-2-1"					: 1277752469706092,
    "A2-3-1"					: 1277754868848363,
    "A2-4-1"					: 1277755942590313,
    "A2-5-1"					: 1277757234436067,
    "A3-1-1"					: 1277758912157906,
    "A3-1-2"					: 1277761294522822,
    "A3-2-1"					: 1277762418596420,
    "A3-2-2"					: 1277764431862679,
    "A5-1-1"					: 1277766378019969,
    "A5-2-1"					: 1277767401430270,
    "A5-2-2"					: 1277768458395005,
    "A5-3-1"					: 1277769750240891,
    "B1-1-1"					: 1277770891091713,
    "B1-2-1"					: 1277772199714678,
    "B1-2-2"					: 1277773256679416,
    "B1-3-2"					: 1277775370608882,
    "B1-4-1"					: 1277953192341255,
    "B10-1-1"					: 1277778289844828,
    "B10-1-2"					: 1277779330032351,
    "B10-1-3"					: 1277780588323678,
    "B10-1-4"					: 1277781259412430,
    "B10-2-1"					: 1277785202058758,
    "B10-2-2"					: 1277786057696901,
    "B10-2-3"					: 1277787013998342,
    "B10-3-1"					: 1277789195036739,
    "B10-3-2"					: 1277790369441991,
    "B10-4-1"					: 1277791929723349,
    "B10-4-2"					: 1277793053796963,
    "B11-1-1"					: 1277794144316136,
    "B11-1-2"					: 1277794983177084,
    "B11-2-1"					: 1277795939478570,
    "B11-2-2"					: 1277797264878784,
    "B11-2-3"					: 1277798338620760,
    "B11-2-4"					: 1277799546580448,
    "B11-3-1"					: 1277801375297275,
    "B11-3-2"					: 1277802432262033,
    "B11-3-3"					: 1277803355009100,
    "B11-4-1"					: 1277805150171511,
    "B12-1-1"					: 1277725978478995,
    "B12-2-1"					: 1277728394398408,
    "B12-2-2"					: 1277731582069762,
    "B12-2-3"					: 1277733511449834,
    "B12-2-4"					: 1277735407275368,
    "B12-2-5"					: 1277745121284609,
    "B12-3-1"					: 1277747033887505,
    "B12-3-2"					: 1277750137672820,
    "B12-3-3"					: 1277753107240413,
    "B12-3-4"					: 1277754382308985,
    "B12-3-5"					: 1277755858704230,
    "B12-3-6"					: 1277758660499661,
    "B12-3-7"					: 1277760254335314,
    "B12-4-1"					: 1277763576224499,
    "B12-4-2"					: 1277766780673270,
    "B2-1-1"					: 1277768173182328,
    "B2-2-1"					: 1277769465028092,
    "B2-2-2"					: 1277770656210614,
    "B2-2-3"					: 1277772719808494,
    "B2-3-1"					: 1277777786528343,
    "B2-3-2"					: 1277778910601945,
    "B2-4-1"					: 1277792584034783,
    "B2-4-2"					: 1277783440450804,
    "B3-1-1"					: 1277784849737210,
    "B3-1-2"					: 1277786292577934,
    "B3-2-1"					: 1277787500537612,
    "B3-2-2"					: 1277789161482290,
    "B3-2-3"					: 1277794060430052,
    "B3-3-1"					: 1277797550091459,
    "B3-3-2"					: 1277798909046232,
    "B3-3-3"					: 1277800200891992,
    "B3-4-1"					: 1277801392074494,
    "B3-4-2"					: 1277802767806366,
    "B4-1-1"					: 1277803774439509,
    "B4-1-2"					: 1277805301166464,
    "B4-2-1"					: 1277814008542535,
    "B4-2-2"					: 1277814797071699,
    "B4-2-3"					: 1277816558679508,
    "B4-3-1"					: 1277818353841849,
    "B4-3-2"					: 1277819914123056,
    "B4-4-1"					: 1277742168494259,
    "B4-4-2"					: 1277753140794861,
    "B6-1-1"					: 1277781343298515,
    "B6-2-1"					: 1277784866514428,
    "B6-2-2"					: 1277992904015765,
    "B6-2-3"					: 1277792835693088,
    "B6-3-1"					: 1277794194647787,
    "B6-3-2"					: 1277796979666106,
    "B6-4-1"					: 1277801945722760,
    "B7-1-1"					: 1277803405340751,
    "B7-1-2"					: 1277805418606981,
    "B7-2-1"					: 1277808975377161,
    "B7-2-2"					: 1277810384663416,
    "B7-2-3"					: 1277811676509172,
    "B7-2-4"					: 1277813421339856,
    "B7-2-5"					: 1277814679631185,
    "B7-3-1"					: 1277992484585360,
    "B7-3-2"					: 1277849492358067,
    "B7-4-1"					: 1277850868089925,
    "B7-4-2"					: 1277867762748182,
    "B8-1-1"					: 1277887777968886,
    "B8-1-2"					: 1277890462323749,
    "B8-2-1"					: 1277891032749098,
    "B8-2-2"					: 1277891603174543,
    "B8-2-3"					: 1277911333182678,
    "B8-2-4"					: 1277924570407473,
    "B8-3-1"					: 1277929653904564,
    "B8-3-2"					: 1277932573140487,
    "B8-3-3"					: 1277934401857248,
    "B9-1-1"					: 1277902374148308,
    "B9-1-2"					: 1277903280118090,
    "B9-1-3"					: 1277904118979002,
    "B9-1-4"					: 1277904840399398,
    "B9-1-5"					: 1277906182576789,
    "B9-1-6"					: 1277907323427600,
    "B9-1-7"					: 1277908111956860,
    "B9-1-8"					: 1277908934040567,
    "B9-1-9"					: 1277910829866192,
    "B9-2-1"					: 1277912373370198,
    "B9-2-2"					: 1277913765879337,
    "B9-2-3"					: 1277915426823825,
    "B9-2-4"					: 1277916450234105,
    "B9-2-5"					: 1277917154877281,
    "B9-2-6"					: 1277918010515402,
    "B9-3-1"					: 1277920610984179,
    "B9-3-2"					: 1277921550508304,
    "B9-4-1"					: 1277923177898496,
};

const obj1 = {};

const files = fs.readdirSync(dir_path);
let id = 0;
const set = new Set();

files.forEach(item => {
    let dir_path_sen = dir_path + '/' + item;
    if(fs.statSync(dir_path_sen).isDirectory()){

        const sen_files = fs.readdirSync(dir_path_sen);

        sen_files.forEach(sen_item => {
            let dir_path_third = dir_path_sen + '/' + sen_item;

            if(fs.statSync(dir_path_third).isDirectory()){

                const third_files = fs.readdirSync(dir_path_third);

                third_files.forEach(item => {
                    let file_path = dir_path_third + '/' + item;
//
                    if(!fs.statSync(file_path).isDirectory() && (item.indexOf('.mp4') !== -1 || item.indexOf('.flv') !== -1)){

                        for(let i of Object.keys(obj)){
                            if(i === sen_item){
                                obj1[obj[i]] = file_path;
                            }
                        }
                    }
                });
            }
        });
    }
});

for (let i of Object.keys(obj1)){
    if(fs.existsSync(obj1[i])){
        let new_path = obj1[i];
        let suffix = new_path.slice(new_path.lastIndexOf('.'),new_path.length);
        new_path = new_path.slice(new_path.lastIndexOf('/') + 1,new_path.length);
        new_path = 'zhmd' + i + suffix;
        fs.renameSync(obj1[i],new_path);
    }
}

